# Tiny_MIDI_Keyboard_kit

これは、Raspberry Pi RP2040-Zeroを搭載したコンパクトなMIDIキーボードキットの組み立てと使用方法を説明するリポジトリです。PCやスマートフォンにUSBで接続するだけで、DAWやMIDI対応アプリをコントロールできます。

## 特徴
* 17鍵のキー入力
* オクターブアップ / ダウン機能
* ピッチベンド、モジュレーション、ホールド（サステイン）を操作できるアナログスティック
* USB-MIDIデバイスとしてOS標準ドライバで動作
* ファームウェアの書き換えによるカスタマイズが可能

***

## 必要な部品

組み立てには以下の部品が必要です。

| 部品名 | 数量 |
| :--- | :--- |
| MIDIキーボード基板 | 1 |
| RP2040-Zero (マイコンボード) | 1 |
| ピンヘッダ 9ピン | 2 |
| ピンヘッダ 5ピン | 1 |
| アナログスティック | 1 |
| スティックカバー | 1 |
| タクトスイッチ | 19 |
| ダイオード (1N4148) | 21 |

**別途必要な工具**
* はんだごて
* はんだ
* ニッパー
* USB Type-C ケーブル

***

## 組み立て手順

はんだ付けは、背の低い部品から順に行うと作業がスムーズです。

1.  **ダイオードのはんだ付け**
    基板に20個のダイオード（1N4148）をはんだ付けします。
    > **【‼️最重要‼️】** ダイオードには向きがあります。ダイオード本体の**黒い帯**と、基板上の印字の**線の向きが必ず一致する**ように差し込んでください。向きを間違えるとキーボードが正しく動作しません。

2.  **RP2040-Zero のはんだ付け**
    付属のピンヘッダをRP2040-Zeroにはんだ付けし、その後、MIDIキーボード基板の所定の位置にはんだ付けします。USB-Cポートが基板の端に来るように配置してください。
    > **【‼️危険‼️】** はんだ付け後にピンヘッダの余分な足をカットする際は、破片が飛んで目に入らないよう十分に注意してください。

3.  **タクトスイッチのはんだ付け**
    基板上に19個のタクトスイッチを取り付け、はんだ付けします。スイッチが基板から浮かないように、しっかり押さえながら作業してください。

4.  **アナログスティックのはんだ付け**
    アナログスティックを基板にはんだ付けします。ピンが太いため、基板に対して垂直に、慎重に差し込んでください。

5.  **スティックカバーの取り付け**
    アナログスティックの軸に、スティックカバーを上からまっすぐ押し込んで取り付けたら、組み立ては完了です。🎉

***

## ファームウェアの書き込み方法

マイコンボードにプログラム（ファームウェア）を書き込むには、`.uf2` ファイルを使用します。

1.  **ブートローダーモードで起動**
    * MIDIキーボード基板からUSBケーブルを抜きます。
    * RP2040-Zeroボード上にある「**BOOT**」ボタンを押したまま、PCとUSBケーブルで接続します。

2.  **ファイルのコピー**
    * PCに「**RPI-RP2**」という名前の新しいドライブ（USBメモリのようなもの）が認識されます。
    * このリポジトリの `Releases` などからダウンロードした `.uf2` ファイルを、その「RPI-RP2」ドライブにドラッグ＆ドロップでコピーします。
    

3.  **書き込み完了**
    * コピーが完了すると、RP2040-Zeroは自動的に再起動し、プログラムが実行されます。
    * ドライブは自動的にPCから切断され、MIDIキーボードとして認識されます。

これで、DAWソフトやMIDI対応アプリでMIDIキーボードとして使用できる状態になります。
